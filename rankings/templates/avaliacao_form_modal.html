{% load static %}

<style>
  .star-rating {
      display: flex;
      flex-direction: row-reverse;
      justify-content: center;
      direction: rtl;
  }
  
  .star-rating input {
      display: none;
  }
  
  .star-rating label {
      width: 30px;
      height: 30px;
      background: url('/static/img/star-empty.svg') no-repeat center center;
      background-size: contain;
  }
  
  .star-rating input:checked ~ label,
  .star-rating label:hover,
  .star-rating label:hover ~ label {
      background-image: url('/static/img/star-filled.svg');
  }
  </style>
  
<form method="post" action="{% url 'avaliar_negociacao' necessidade.pk %}">
  {% csrf_token %}

  <p class="mb-3">
    {% if tipo_avaliacao == 'fornecedor' %}
      Avalie o <strong>fornecedor</strong> com base nos seguintes critérios:
    {% else %}
      Avalie o <strong>cliente</strong> com base nos seguintes critérios:
    {% endif %}
  </p>

  <div class="rating-criteria">
    {% for field in form %}
      {% if field.name|slice:":9" == "criterio_" %}
        <div class="mb-3">
          <label class="form-label">{{ field.label }}</label>
          <div class="star-rating-container">
            {{ field }}
            <div class="rating-labels d-flex justify-content-between">
              <small>Nada satisfeito</small>
              <small>Muito satisfeito</small>
            </div>
          </div>
        </div>
      {% endif %}
    {% endfor %}
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
    <button type="submit" class="btn btn-primary">Enviar Avaliação</button>
  </div>
</form>
